@model Queue.ViewModels.MerchantEdit;

@{
    ViewBag.Title = "Your Information";

}

<div class="text-left">
    <h1 class="display-4">Your Information</h1>
</div>

<div class="row">
    <div class="col-md-12">
        <form method="post">
            <div asp-validation-summary="All" class="text-danger"></div>
            <div class="form-group">
                <div class="form-row">
                    <div class="col">
                        <label asp-for="MerchantFirstName"></label>&nbsp;<span class="text-danger">*</span>
                        <input asp-for="MerchantFirstName" class="form-control" />
                        <span asp-validation-for="MerchantFirstName" class="text-danger"></span>
                    </div>
                    <div class="col">
                        <label asp-for="MerchantLastName"></label>&nbsp;<span class="text-danger">*</span>
                        <input asp-for="MerchantLastName" class="form-control" />
                        <span asp-validation-for="MerchantLastName" class="text-danger"></span>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label asp-for="MerchantShopName"></label>&nbsp;<span class="text-danger">*</span>
                <input asp-for="MerchantShopName" class="form-control" />
                <span asp-validation-for="MerchantShopName" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="Email"></label>&nbsp;<span class="text-danger">*</span>
                <input readonly asp-for="Email" class="form-control" />
                <span asp-validation-for="Email" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="PhoneNumber"></label>&nbsp;<span class="text-danger">*</span>
                <input asp-for="PhoneNumber" class="form-control" />
                <span asp-validation-for="PhoneNumber" class="text-danger"></span>
            </div>
            <div class="form-group">
                <div class="form-row">
                    <div class="col">
                        <label asp-for="MerchantAddress1"></label>&nbsp;<span class="text-danger">*</span>
                        <input asp-for="MerchantAddress1" class="form-control" />
                        <span asp-validation-for="MerchantAddress1" class="text-danger"></span>
                    </div>
                    <div class="col">
                        <label asp-for="MerchantAddress2"></label>&nbsp;<span class="text-danger">*</span>
                        <input asp-for="MerchantAddress2" class="form-control" />
                        <span asp-validation-for="MerchantAddress2" class="text-danger"></span>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label asp-for="MerchantPinCode"></label>&nbsp;<span class="text-danger">*</span>
                <input asp-for="MerchantPinCode" class="form-control" />
                <span asp-validation-for="MerchantPinCode" class="text-danger"></span>
            </div>
            <p>Click "Your Location" button to get below values and "Allow" to pop-up.</p>
            <small id="emailHelp" class="form-text text-muted">Only click if you changed your shop's location.</small>
            <div class="form-group">
                <div class="form-row">
                    <div class="col">
                        <label asp-for="MerchantLongitude"></label>&nbsp;<span class="text-danger">*</span>
                        <input id="longitude1" asp-for="MerchantLongitude" class="form-control" />
                        <span asp-validation-for="MerchantLongitude" class="text-danger"></span>
                    </div>
                    <div class="col">
                        <label asp-for="MerchantLatitude"></label>&nbsp;<span class="text-danger">*</span>
                        <input id="latitude1" asp-for="MerchantLatitude" class="form-control" />
                        <span asp-validation-for="MerchantLatitude" class="text-danger"></span>
                    </div>
                </div>
            </div>
            <button type="submit" class="btn btn-primary">Update details</button>
        </form>
        <br />
        <button onclick="getLocation()" class="btn btn-dark">Your Location</button><br /><br />
        <form method="get" asp-controller="merchant" asp-action="delete">
            <button type="submit" class="btn btn-danger">Delete details</button>
        </form>
    </div>
</div>
<script>
var x = document.getElementById("location");

    function getLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
      } else {
        x.innerHTML = "Geolocation is not supported by this browser.";
      }
    }

    function showPosition(position) {
        @*x.innerHTML = "Latitude: " + position.coords.latitude +
            "<br>Longitude: " + position.coords.longitude; *@
        document.getElementById("longitude1").value = position.coords.longitude;
        document.getElementById("latitude1").value = position.coords.latitude;
    }
</script>